"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),o=require("@nivo/core"),i=require("prop-types");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var l=n(t),a=r(i),d=function(t){var o=t.x,i=t.y,r=t.size,n=t.fill,l=t.opacity,a=void 0===l?1:l,d=t.borderWidth,s=void 0===d?0:d,c=t.borderColor,u=void 0===c?"transparent":c;return e.jsx("circle",{r:r/2,cx:o+r/2,cy:i+r/2,fill:n,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})},s=function(t){var o=t.x,i=t.y,r=t.size,n=t.fill,l=t.opacity,a=void 0===l?1:l,d=t.borderWidth,s=void 0===d?0:d,c=t.borderColor,u=void 0===c?"transparent":c;return e.jsx("g",{transform:"translate("+o+","+i+")",children:e.jsx("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:n,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})})},c=function(t){var o=t.x,i=t.y,r=t.size,n=t.fill,l=t.opacity,a=void 0===l?1:l,d=t.borderWidth,s=void 0===d?0:d,c=t.borderColor,u=void 0===c?"transparent":c;return e.jsx("rect",{x:o,y:i,fill:n,opacity:a,strokeWidth:s,stroke:u,width:r,height:r,style:{pointerEvents:"none"}})},u=function(t){var o=t.x,i=t.y,r=t.size,n=t.fill,l=t.opacity,a=void 0===l?1:l,d=t.borderWidth,s=void 0===d?0:d,c=t.borderColor,u=void 0===c?"transparent":c;return e.jsx("g",{transform:"translate("+o+","+i+")",children:e.jsx("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:n,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})})};function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},m.apply(this,arguments)}var f={top:0,right:0,bottom:0,left:0},h=function(e){var t,o=e.direction,i=e.itemsSpacing,r=e.padding,n=e.itemCount,l=e.itemWidth,a=e.itemHeight;if("number"!=typeof r&&("object"!=typeof(t=r)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var d="number"==typeof r?{top:r,right:r,bottom:r,left:r}:m({},f,r),s=d.left+d.right,c=d.top+d.bottom,u=l+s,h=a+c,b=(n-1)*i;return"row"===o?u=l*n+b+s:"column"===o&&(h=a*n+b+c),{width:u,height:h,padding:d}},b=function(e){var t=e.anchor,o=e.translateX,i=e.translateY,r=e.containerWidth,n=e.containerHeight,l=e.width,a=e.height,d=o,s=i;switch(t){case"top":d+=(r-l)/2;break;case"top-right":d+=r-l;break;case"right":d+=r-l,s+=(n-a)/2;break;case"bottom-right":d+=r-l,s+=n-a;break;case"bottom":d+=(r-l)/2,s+=n-a;break;case"bottom-left":s+=n-a;break;case"left":s+=(n-a)/2;break;case"center":d+=(r-l)/2,s+=(n-a)/2}return{x:d,y:s}},g=function(e){var t,o,i,r,n,l,a=e.direction,d=e.justify,s=e.symbolSize,c=e.symbolSpacing,u=e.width,m=e.height;switch(a){case"left-to-right":t=0,o=(m-s)/2,r=m/2,l="central",!0===d?(i=u,n="end"):(i=s+c,n="start");break;case"right-to-left":t=u-s,o=(m-s)/2,r=m/2,l="central",!0===d?(i=0,n="start"):(i=u-s-c,n="end");break;case"top-to-bottom":t=(u-s)/2,o=0,i=u/2,n="middle",!0===d?(r=m,l="alphabetic"):(r=s+c,l="text-before-edge");break;case"bottom-to-top":t=(u-s)/2,o=m-s,i=u/2,n="middle",!0===d?(r=0,l="text-before-edge"):(r=m-s-c,l="alphabetic")}return{symbolX:t,symbolY:o,labelX:i,labelY:r,labelAnchor:n,labelAlignment:l}},y={circle:d,diamond:s,square:c,triangle:u},p=function(i){var r,n,a,d,s,c,u,f,h,b,p,v=i.x,x=i.y,S=i.width,k=i.height,C=i.data,j=i.direction,W=void 0===j?"left-to-right":j,B=i.justify,O=void 0!==B&&B,w=i.textColor,z=i.background,L=void 0===z?"transparent":z,M=i.opacity,E=void 0===M?1:M,q=i.symbolShape,H=void 0===q?"square":q,T=i.symbolSize,X=void 0===T?16:T,Y=i.symbolSpacing,A=void 0===Y?8:Y,D=i.symbolBorderWidth,R=void 0===D?0:D,P=i.symbolBorderColor,_=void 0===P?"transparent":P,F=i.onClick,I=i.onMouseEnter,Q=i.onMouseLeave,G=i.toggleSerie,J=i.effects,K=t.useState({}),N=K[0],U=K[1],V=o.useTheme(),Z=t.useCallback((function(e){if(J){var t=J.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return m({},e,t.style)}),{});U(t)}null==I||I(C,e)}),[I,C,J]),$=t.useCallback((function(e){if(J){var t=J.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return m({},e,t.style)}),{});U(t)}null==Q||Q(C,e)}),[Q,C,J]),ee=g({direction:W,justify:O,symbolSize:null!=(r=N.symbolSize)?r:X,symbolSpacing:A,width:S,height:k}),te=ee.symbolX,oe=ee.symbolY,ie=ee.labelX,re=ee.labelY,ne=ee.labelAnchor,le=ee.labelAlignment,ae=[F,I,Q,G].some((function(e){return void 0!==e})),de="function"==typeof H?H:y[H];return e.jsxs("g",{transform:"translate("+v+","+x+")",style:{opacity:null!=(n=N.itemOpacity)?n:E},children:[e.jsx("rect",{width:S,height:k,fill:null!=(a=N.itemBackground)?a:L,style:{cursor:ae?"pointer":"auto"},onClick:function(e){null==F||F(C,e),null==G||G(C.id)},onMouseEnter:Z,onMouseLeave:$}),l.createElement(de,m({id:C.id,x:te,y:oe,size:null!=(d=N.symbolSize)?d:X,fill:null!=(s=null!=(c=C.fill)?c:C.color)?s:"black",borderWidth:null!=(u=N.symbolBorderWidth)?u:R,borderColor:null!=(f=N.symbolBorderColor)?f:_},C.hidden?V.legends.hidden.symbol:void 0)),e.jsx("text",{textAnchor:ne,style:m({},V.legends.text,{fill:null!=(h=null!=(b=null!=(p=N.itemTextColor)?p:w)?b:V.legends.text.fill)?h:"black",dominantBaseline:le,pointerEvents:"none",userSelect:"none"},C.hidden?V.legends.hidden.text:void 0),x:ie,y:re,children:C.label})]})},v=function(t){var o=t.data,i=t.x,r=t.y,n=t.direction,l=t.padding,a=void 0===l?0:l,d=t.justify,s=t.effects,c=t.itemWidth,u=t.itemHeight,m=t.itemDirection,f=void 0===m?"left-to-right":m,b=t.itemsSpacing,g=void 0===b?0:b,y=t.itemTextColor,v=t.itemBackground,x=void 0===v?"transparent":v,S=t.itemOpacity,k=void 0===S?1:S,C=t.symbolShape,j=t.symbolSize,W=t.symbolSpacing,B=t.symbolBorderWidth,O=t.symbolBorderColor,w=t.onClick,z=t.onMouseEnter,L=t.onMouseLeave,M=t.toggleSerie,E=h({itemCount:o.length,itemWidth:c,itemHeight:u,itemsSpacing:g,direction:n,padding:a}).padding,q="row"===n?c+g:0,H="column"===n?u+g:0;return e.jsx("g",{transform:"translate("+i+","+r+")",children:o.map((function(t,o){return e.jsx(p,{data:t,x:o*q+E.left,y:o*H+E.top,width:c,height:u,direction:f,justify:d,effects:s,textColor:y,background:x,opacity:k,symbolShape:C,symbolSize:j,symbolSpacing:W,symbolBorderWidth:B,symbolBorderColor:O,onClick:w,onMouseEnter:z,onMouseLeave:L,toggleSerie:M},o)}))})},x={start:"left",middle:"center",end:"right"},S={data:a.default.arrayOf(a.default.object),anchor:a.default.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:a.default.number,translateY:a.default.number,direction:a.default.oneOf(["row","column"]).isRequired,itemsSpacing:a.default.number,itemWidth:a.default.number.isRequired,itemHeight:a.default.number.isRequired,itemDirection:a.default.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:a.default.string,itemBackground:a.default.string,itemOpacity:a.default.number,symbolShape:a.default.oneOfType([a.default.oneOf(["circle","diamond","square","triangle"]),a.default.func]),symbolSize:a.default.number,symbolSpacing:a.default.number,symbolBorderWidth:a.default.number,symbolBorderColor:a.default.string,onClick:a.default.func,onMouseEnter:a.default.func,onMouseLeave:a.default.func,effects:a.default.arrayOf(a.default.shape({on:a.default.oneOfType([a.default.oneOf(["hover"])]).isRequired,style:a.default.shape({itemTextColor:a.default.string,itemBackground:a.default.string,itemOpacity:a.default.number,symbolSize:a.default.number,symbolBorderWidth:a.default.number,symbolBorderColor:a.default.string}).isRequired}))};exports.BoxLegendSvg=function(t){var o=t.data,i=t.containerWidth,r=t.containerHeight,n=t.translateX,l=void 0===n?0:n,a=t.translateY,d=void 0===a?0:a,s=t.anchor,c=t.direction,u=t.padding,m=void 0===u?0:u,f=t.justify,g=t.itemsSpacing,y=void 0===g?0:g,p=t.itemWidth,x=t.itemHeight,S=t.itemDirection,k=t.itemTextColor,C=t.itemBackground,j=t.itemOpacity,W=t.symbolShape,B=t.symbolSize,O=t.symbolSpacing,w=t.symbolBorderWidth,z=t.symbolBorderColor,L=t.onClick,M=t.onMouseEnter,E=t.onMouseLeave,q=t.toggleSerie,H=t.effects,T=h({itemCount:o.length,itemsSpacing:y,itemWidth:p,itemHeight:x,direction:c,padding:m}),X=T.width,Y=T.height,A=b({anchor:s,translateX:l,translateY:d,containerWidth:i,containerHeight:r,width:X,height:Y}),D=A.x,R=A.y;return e.jsx(v,{data:o,x:D,y:R,direction:c,padding:m,justify:f,effects:H,itemsSpacing:y,itemWidth:p,itemHeight:x,itemDirection:S,itemTextColor:k,itemBackground:C,itemOpacity:j,symbolShape:W,symbolSize:B,symbolSpacing:O,symbolBorderWidth:w,symbolBorderColor:z,onClick:L,onMouseEnter:M,onMouseLeave:E,toggleSerie:"boolean"==typeof q?void 0:q})},exports.LegendPropShape=S,exports.LegendSvg=v,exports.LegendSvgItem=p,exports.SymbolCircle=d,exports.SymbolDiamond=s,exports.SymbolSquare=c,exports.SymbolTriangle=u,exports.renderLegendToCanvas=function(e,t){var o=t.data,i=t.containerWidth,r=t.containerHeight,n=t.translateX,l=void 0===n?0:n,a=t.translateY,d=void 0===a?0:a,s=t.anchor,c=t.direction,u=t.padding,m=void 0===u?0:u,f=t.justify,y=void 0!==f&&f,p=t.itemsSpacing,v=void 0===p?0:p,S=t.itemWidth,k=t.itemHeight,C=t.itemDirection,j=void 0===C?"left-to-right":C,W=t.itemTextColor,B=t.symbolSize,O=void 0===B?16:B,w=t.symbolSpacing,z=void 0===w?8:w,L=t.theme,M=h({itemCount:o.length,itemWidth:S,itemHeight:k,itemsSpacing:v,direction:c,padding:m}),E=M.width,q=M.height,H=M.padding,T=b({anchor:s,translateX:l,translateY:d,containerWidth:i,containerHeight:r,width:E,height:q}),X=T.x,Y=T.y,A="row"===c?S+v:0,D="column"===c?k+v:0;e.save(),e.translate(X,Y),e.font=L.legends.text.fontSize+"px "+(L.legends.text.fontFamily||"sans-serif"),o.forEach((function(t,o){var i,r,n=o*A+H.left,l=o*D+H.top,a=g({direction:j,justify:y,symbolSize:O,symbolSpacing:z,width:S,height:k}),d=a.symbolX,s=a.symbolY,c=a.labelX,u=a.labelY,m=a.labelAnchor,f=a.labelAlignment;e.fillStyle=null!=(i=t.color)?i:"black",e.fillRect(n+d,l+s,O,O),e.textAlign=x[m],"central"===f&&(e.textBaseline="middle"),e.fillStyle=null!=(r=null!=W?W:L.legends.text.fill)?r:"black",e.fillText(String(t.label),n+c,l+u)})),e.restore()},exports.useQuantizeColorScaleLegendData=function(e){var o=e.scale,i=e.domain,r=e.reverse,n=void 0!==r&&r,l=e.valueFormat,a=void 0===l?function(e){return e}:l,d=e.separator,s=void 0===d?" - ":d;return t.useMemo((function(){var e=(null!=i?i:o.range()).map((function(e,t){var i=o.invertExtent(e),r=i[0],n=i[1];return{id:e,index:t,extent:[r,n],label:""+a(r)+s+a(n),value:o(r),color:e}}));return!0===n&&e.reverse(),e}),[i,o,n])};
//# sourceMappingURL=nivo-legends.cjs.js.map
