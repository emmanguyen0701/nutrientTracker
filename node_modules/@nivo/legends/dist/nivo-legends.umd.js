!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react/jsx-runtime"),require("react"),require("@nivo/core"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","react","@nivo/core","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e["react/jsx-runtime"],e.React,e.nivo,e.PropTypes)}(this,(function(e,t,i,o,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var a=l(i),d=r(n),s=function(e){var i=e.x,o=e.y,n=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,d=e.borderWidth,s=void 0===d?0:d,c=e.borderColor,u=void 0===c?"transparent":c;return t.jsx("circle",{r:n/2,cx:i+n/2,cy:o+n/2,fill:r,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})},c=function(e){var i=e.x,o=e.y,n=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,d=e.borderWidth,s=void 0===d?0:d,c=e.borderColor,u=void 0===c?"transparent":c;return t.jsx("g",{transform:"translate("+i+","+o+")",children:t.jsx("path",{d:"\n                    M"+n/2+" 0\n                    L"+.8*n+" "+n/2+"\n                    L"+n/2+" "+n+"\n                    L"+.2*n+" "+n/2+"\n                    L"+n/2+" 0\n                ",fill:r,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})})},u=function(e){var i=e.x,o=e.y,n=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,d=e.borderWidth,s=void 0===d?0:d,c=e.borderColor,u=void 0===c?"transparent":c;return t.jsx("rect",{x:i,y:o,fill:r,opacity:a,strokeWidth:s,stroke:u,width:n,height:n,style:{pointerEvents:"none"}})},f=function(e){var i=e.x,o=e.y,n=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,d=e.borderWidth,s=void 0===d?0:d,c=e.borderColor,u=void 0===c?"transparent":c;return t.jsx("g",{transform:"translate("+i+","+o+")",children:t.jsx("path",{d:"\n                M"+n/2+" 0\n                L"+n+" "+n+"\n                L0 "+n+"\n                L"+n/2+" 0\n            ",fill:r,opacity:a,strokeWidth:s,stroke:u,style:{pointerEvents:"none"}})})};function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},m.apply(this,arguments)}var h={top:0,right:0,bottom:0,left:0},b=function(e){var t,i=e.direction,o=e.itemsSpacing,n=e.padding,r=e.itemCount,l=e.itemWidth,a=e.itemHeight;if("number"!=typeof n&&("object"!=typeof(t=n)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var d="number"==typeof n?{top:n,right:n,bottom:n,left:n}:m({},h,n),s=d.left+d.right,c=d.top+d.bottom,u=l+s,f=a+c,b=(r-1)*o;return"row"===i?u=l*r+b+s:"column"===i&&(f=a*r+b+c),{width:u,height:f,padding:d}},g=function(e){var t=e.anchor,i=e.translateX,o=e.translateY,n=e.containerWidth,r=e.containerHeight,l=e.width,a=e.height,d=i,s=o;switch(t){case"top":d+=(n-l)/2;break;case"top-right":d+=n-l;break;case"right":d+=n-l,s+=(r-a)/2;break;case"bottom-right":d+=n-l,s+=r-a;break;case"bottom":d+=(n-l)/2,s+=r-a;break;case"bottom-left":s+=r-a;break;case"left":s+=(r-a)/2;break;case"center":d+=(n-l)/2,s+=(r-a)/2}return{x:d,y:s}},y=function(e){var t,i,o,n,r,l,a=e.direction,d=e.justify,s=e.symbolSize,c=e.symbolSpacing,u=e.width,f=e.height;switch(a){case"left-to-right":t=0,i=(f-s)/2,n=f/2,l="central",!0===d?(o=u,r="end"):(o=s+c,r="start");break;case"right-to-left":t=u-s,i=(f-s)/2,n=f/2,l="central",!0===d?(o=0,r="start"):(o=u-s-c,r="end");break;case"top-to-bottom":t=(u-s)/2,i=0,o=u/2,r="middle",!0===d?(n=f,l="alphabetic"):(n=s+c,l="text-before-edge");break;case"bottom-to-top":t=(u-s)/2,i=f-s,o=u/2,r="middle",!0===d?(n=0,l="text-before-edge"):(n=f-s-c,l="alphabetic")}return{symbolX:t,symbolY:i,labelX:o,labelY:n,labelAnchor:r,labelAlignment:l}},p={circle:s,diamond:c,square:u,triangle:f},v=function(e){var n,r,l,d,s,c,u,f,h,b,g,v=e.x,x=e.y,S=e.width,k=e.height,C=e.data,j=e.direction,W=void 0===j?"left-to-right":j,B=e.justify,O=void 0!==B&&B,w=e.textColor,z=e.background,L=void 0===z?"transparent":z,M=e.opacity,E=void 0===M?1:M,T=e.symbolShape,q=void 0===T?"square":T,H=e.symbolSize,X=void 0===H?16:H,Y=e.symbolSpacing,A=void 0===Y?8:Y,D=e.symbolBorderWidth,R=void 0===D?0:D,P=e.symbolBorderColor,_=void 0===P?"transparent":P,F=e.onClick,I=e.onMouseEnter,Q=e.onMouseLeave,G=e.toggleSerie,J=e.effects,K=i.useState({}),N=K[0],U=K[1],V=o.useTheme(),Z=i.useCallback((function(e){if(J){var t=J.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return m({},e,t.style)}),{});U(t)}null==I||I(C,e)}),[I,C,J]),$=i.useCallback((function(e){if(J){var t=J.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return m({},e,t.style)}),{});U(t)}null==Q||Q(C,e)}),[Q,C,J]),ee=y({direction:W,justify:O,symbolSize:null!=(n=N.symbolSize)?n:X,symbolSpacing:A,width:S,height:k}),te=ee.symbolX,ie=ee.symbolY,oe=ee.labelX,ne=ee.labelY,re=ee.labelAnchor,le=ee.labelAlignment,ae=[F,I,Q,G].some((function(e){return void 0!==e})),de="function"==typeof q?q:p[q];return t.jsxs("g",{transform:"translate("+v+","+x+")",style:{opacity:null!=(r=N.itemOpacity)?r:E},children:[t.jsx("rect",{width:S,height:k,fill:null!=(l=N.itemBackground)?l:L,style:{cursor:ae?"pointer":"auto"},onClick:function(e){null==F||F(C,e),null==G||G(C.id)},onMouseEnter:Z,onMouseLeave:$}),a.createElement(de,m({id:C.id,x:te,y:ie,size:null!=(d=N.symbolSize)?d:X,fill:null!=(s=null!=(c=C.fill)?c:C.color)?s:"black",borderWidth:null!=(u=N.symbolBorderWidth)?u:R,borderColor:null!=(f=N.symbolBorderColor)?f:_},C.hidden?V.legends.hidden.symbol:void 0)),t.jsx("text",{textAnchor:re,style:m({},V.legends.text,{fill:null!=(h=null!=(b=null!=(g=N.itemTextColor)?g:w)?b:V.legends.text.fill)?h:"black",dominantBaseline:le,pointerEvents:"none",userSelect:"none"},C.hidden?V.legends.hidden.text:void 0),x:oe,y:ne,children:C.label})]})},x=function(e){var i=e.data,o=e.x,n=e.y,r=e.direction,l=e.padding,a=void 0===l?0:l,d=e.justify,s=e.effects,c=e.itemWidth,u=e.itemHeight,f=e.itemDirection,m=void 0===f?"left-to-right":f,h=e.itemsSpacing,g=void 0===h?0:h,y=e.itemTextColor,p=e.itemBackground,x=void 0===p?"transparent":p,S=e.itemOpacity,k=void 0===S?1:S,C=e.symbolShape,j=e.symbolSize,W=e.symbolSpacing,B=e.symbolBorderWidth,O=e.symbolBorderColor,w=e.onClick,z=e.onMouseEnter,L=e.onMouseLeave,M=e.toggleSerie,E=b({itemCount:i.length,itemWidth:c,itemHeight:u,itemsSpacing:g,direction:r,padding:a}).padding,T="row"===r?c+g:0,q="column"===r?u+g:0;return t.jsx("g",{transform:"translate("+o+","+n+")",children:i.map((function(e,i){return t.jsx(v,{data:e,x:i*T+E.left,y:i*q+E.top,width:c,height:u,direction:m,justify:d,effects:s,textColor:y,background:x,opacity:k,symbolShape:C,symbolSize:j,symbolSpacing:W,symbolBorderWidth:B,symbolBorderColor:O,onClick:w,onMouseEnter:z,onMouseLeave:L,toggleSerie:M},i)}))})},S={start:"left",middle:"center",end:"right"},k={data:d.default.arrayOf(d.default.object),anchor:d.default.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:d.default.number,translateY:d.default.number,direction:d.default.oneOf(["row","column"]).isRequired,itemsSpacing:d.default.number,itemWidth:d.default.number.isRequired,itemHeight:d.default.number.isRequired,itemDirection:d.default.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:d.default.string,itemBackground:d.default.string,itemOpacity:d.default.number,symbolShape:d.default.oneOfType([d.default.oneOf(["circle","diamond","square","triangle"]),d.default.func]),symbolSize:d.default.number,symbolSpacing:d.default.number,symbolBorderWidth:d.default.number,symbolBorderColor:d.default.string,onClick:d.default.func,onMouseEnter:d.default.func,onMouseLeave:d.default.func,effects:d.default.arrayOf(d.default.shape({on:d.default.oneOfType([d.default.oneOf(["hover"])]).isRequired,style:d.default.shape({itemTextColor:d.default.string,itemBackground:d.default.string,itemOpacity:d.default.number,symbolSize:d.default.number,symbolBorderWidth:d.default.number,symbolBorderColor:d.default.string}).isRequired}))};e.BoxLegendSvg=function(e){var i=e.data,o=e.containerWidth,n=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,d=void 0===a?0:a,s=e.anchor,c=e.direction,u=e.padding,f=void 0===u?0:u,m=e.justify,h=e.itemsSpacing,y=void 0===h?0:h,p=e.itemWidth,v=e.itemHeight,S=e.itemDirection,k=e.itemTextColor,C=e.itemBackground,j=e.itemOpacity,W=e.symbolShape,B=e.symbolSize,O=e.symbolSpacing,w=e.symbolBorderWidth,z=e.symbolBorderColor,L=e.onClick,M=e.onMouseEnter,E=e.onMouseLeave,T=e.toggleSerie,q=e.effects,H=b({itemCount:i.length,itemsSpacing:y,itemWidth:p,itemHeight:v,direction:c,padding:f}),X=H.width,Y=H.height,A=g({anchor:s,translateX:l,translateY:d,containerWidth:o,containerHeight:n,width:X,height:Y}),D=A.x,R=A.y;return t.jsx(x,{data:i,x:D,y:R,direction:c,padding:f,justify:m,effects:q,itemsSpacing:y,itemWidth:p,itemHeight:v,itemDirection:S,itemTextColor:k,itemBackground:C,itemOpacity:j,symbolShape:W,symbolSize:B,symbolSpacing:O,symbolBorderWidth:w,symbolBorderColor:z,onClick:L,onMouseEnter:M,onMouseLeave:E,toggleSerie:"boolean"==typeof T?void 0:T})},e.LegendPropShape=k,e.LegendSvg=x,e.LegendSvgItem=v,e.SymbolCircle=s,e.SymbolDiamond=c,e.SymbolSquare=u,e.SymbolTriangle=f,e.renderLegendToCanvas=function(e,t){var i=t.data,o=t.containerWidth,n=t.containerHeight,r=t.translateX,l=void 0===r?0:r,a=t.translateY,d=void 0===a?0:a,s=t.anchor,c=t.direction,u=t.padding,f=void 0===u?0:u,m=t.justify,h=void 0!==m&&m,p=t.itemsSpacing,v=void 0===p?0:p,x=t.itemWidth,k=t.itemHeight,C=t.itemDirection,j=void 0===C?"left-to-right":C,W=t.itemTextColor,B=t.symbolSize,O=void 0===B?16:B,w=t.symbolSpacing,z=void 0===w?8:w,L=t.theme,M=b({itemCount:i.length,itemWidth:x,itemHeight:k,itemsSpacing:v,direction:c,padding:f}),E=M.width,T=M.height,q=M.padding,H=g({anchor:s,translateX:l,translateY:d,containerWidth:o,containerHeight:n,width:E,height:T}),X=H.x,Y=H.y,A="row"===c?x+v:0,D="column"===c?k+v:0;e.save(),e.translate(X,Y),e.font=L.legends.text.fontSize+"px "+(L.legends.text.fontFamily||"sans-serif"),i.forEach((function(t,i){var o,n,r=i*A+q.left,l=i*D+q.top,a=y({direction:j,justify:h,symbolSize:O,symbolSpacing:z,width:x,height:k}),d=a.symbolX,s=a.symbolY,c=a.labelX,u=a.labelY,f=a.labelAnchor,m=a.labelAlignment;e.fillStyle=null!=(o=t.color)?o:"black",e.fillRect(r+d,l+s,O,O),e.textAlign=S[f],"central"===m&&(e.textBaseline="middle"),e.fillStyle=null!=(n=null!=W?W:L.legends.text.fill)?n:"black",e.fillText(String(t.label),r+c,l+u)})),e.restore()},e.useQuantizeColorScaleLegendData=function(e){var t=e.scale,o=e.domain,n=e.reverse,r=void 0!==n&&n,l=e.valueFormat,a=void 0===l?function(e){return e}:l,d=e.separator,s=void 0===d?" - ":d;return i.useMemo((function(){var e=(null!=o?o:t.range()).map((function(e,i){var o=t.invertExtent(e),n=o[0],r=o[1];return{id:e,index:i,extent:[n,r],label:""+a(n)+s+a(r),value:t(n),color:e}}));return!0===r&&e.reverse(),e}),[o,t,r])},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-legends.umd.js.map
